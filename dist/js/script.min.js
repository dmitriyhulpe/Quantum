const button = document.querySelectorAll('.button');
const body = document.body;

button.forEach(function(index) {
	index.addEventListener('click', function(event) {
		event.preventDefault();
		
		let x = event.clientX - event.target.offsetLeft;
		let y = event.clientY - event.target.offsetTop;

		let ripples = document.createElement('span');
		ripples.style.left = x + 'px';
		ripples.style.top = y + 'px';
		this.appendChild(ripples);

		setTimeout(function() {
			ripples.remove()
		}, 1000);
	});
});

const swiper = new Swiper('.swiper', {
	pagination: {
		el: ".swiper-pagination",
		type: "progressbar",
	},

	autoplay: true,
	simulateTouch: false,
	loop: true,

	breakpoints: {
		767: {
			loop: false
		}	
	},

	navigation: {
		nextEl: '.swiper-button-next',
		prevEl: '.swiper-button-prev',
	}
});

const overlay = document.querySelectorAll('.overlay');
const overlayActive = document.querySelectorAll('[data-modal]');
const overlayClose = document.querySelectorAll('.close');

overlayActive.forEach(function(item) {
	if(overlayActive) {
		item.addEventListener('click', function(event) {
			event.preventDefault;
			let overlayIdentifier = event.target.getAttribute('data-modal');
			let overlay = document.getElementById(overlayIdentifier);

			let modal = document.querySelector('.modal');
			modal.addEventListener('click', function(event) {
				event.stopPropagation();
			});

			overlay.classList.add('show');
			body.classList.add('lock');
		});
	} else {
		overlay.classList.remove('show');
	}
});

overlayClose.forEach(function(item) {
	item.addEventListener('click', function(event) {
		let current = event.target.closest('.overlay');

		overlayDisable(current);
	});
});

overlay.forEach(function(item) {
	item.addEventListener('click', function(event) {
		let current = event.target;

		overlayDisable(current);
	});
});

function overlayDisable(item) {
	item.classList.remove('show');
	body.classList.remove('lock');
}